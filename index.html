<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Idle CLI Game</title>
  <style>
    body {
      background-color: #1e1e1e;
      color: #d4d4d4;
      font-family: monospace;
      margin: 0;
      display: grid;
      grid-template-columns: 50% 50%;
      grid-template-rows: 50% 50%;
      height: 100vh;
    }

    /* Panels */
    #command-line {
      grid-column: 1;
      grid-row: 1 / span 2;
      border-right: 1px solid #ccc;
      padding: 10px;
      overflow-y: auto;
    }

    #game-updates {
      grid-column: 2;
      grid-row: 1;
      padding: 10px;
      border-bottom: 1px solid #ccc;
    }

    #settings {
      grid-column: 2;
      grid-row: 1;
      padding: 10px;
      border-left: 1px solid #ccc;
    }

    #sidebar {
      grid-column: 2;
      grid-row: 2;
      padding: 20px;
      border-left: 1px solid #ccc;
      overflow-y: auto;
    }

    .dropdown {
      margin-bottom: 10px;
    }

    .dropdown button {
      width: 100%;
      padding: 10px;
      text-align: left;
      background-color: #f0f0f0;
      border: 1px solid #ccc;
      cursor: pointer;
    }

    .dropdown-content {
      display: none;
      border: 1px solid #ccc;
      padding: 10px;
      background-color: #fff;
    }

    .dropdown.open .dropdown-content {
      display: block;
    }

    h3 {
      margin-top: 0;
    }

    button {
      margin: 5px 0;
      background-color: #444;
      color: white;
      border: none;
      padding: 8px;
      cursor: pointer;
      width: 100%;
    }
  </style>
</head>
<body>
  <!-- Command Line Panel -->
  <div id="command-line">
    <div id="cli-output-wrapper">
      <div id="cli"></div>
    </div>
  </div>

  <!-- Game Updates Panel -->
  <div id="game-updates">
    <h2>Game Updates</h2>
    <p>Idle updates, autosaves, and notifications like "You prestiged!" will appear here.</p>
  </div>

  <!-- Settings Panel -->
  <div id="settings">
    <h2>Settings</h2>
    <label>
      <input type="checkbox" id="toggleGameUpdates" checked>
      Show Game Updates Panel
    </label>
    <br>
    <label>
      <input type="checkbox" id="toggleSidebar" checked>
      Show Sidebar
    </label>
    <br>
    <label>
      <input type="checkbox" id="toggleTheme">
      Light/Dark Theme
    </label>
  </div>

  <!-- Sidebar -->
  <div id="sidebar">
    <h3>Resources</h3>
    <div id="resources"></div>
    <h3>Upgrades</h3>
    <div class="dropdown">
      <button onclick="toggleDropdown(this)">Upgrades</button>
      <div class="dropdown-content">
        <p>Axe: Increase wood per gather.</p>
        <p>Saw: Increase wood per idle.</p>
        <p>Pickaxe: Increase stone per mine.</p>
        <p>Drill: Increase stone per idle.</p>
      </div>
    </div>
    <h3>Prestige</h3>
    <button onclick="prestige()">Prestige (Reset for boost)</button>
  </div>

  <script>
    const cli = document.getElementById('cli');
    const resourcesDisplay = document.getElementById('resources');
    const cliOutputWrapper = document.getElementById('cli-output-wrapper');

    function toggleDropdown(button) {
      const dropdown = button.parentElement;
      dropdown.classList.toggle('open');
    }

    document.getElementById('toggleGameUpdates').addEventListener('change', function () {
      document.getElementById('game-updates').style.display = this.checked ? 'block' : 'none';
    });

    document.getElementById('toggleSidebar').addEventListener('change', function () {
      document.getElementById('sidebar').style.display = this.checked ? 'block' : 'none';
    });

    document.getElementById('toggleTheme').addEventListener('change', function () {
      document.body.style.backgroundColor = this.checked ? '#333' : '#fff';
      document.body.style.color = this.checked ? '#fff' : '#000';
    });

    // Existing JavaScript for game state and commands (kept as is)
    // Add input line functionality
    function output(text) {
      const div = document.createElement('div');
      div.textContent = text;
      cli.appendChild(div);
    }

    function prestige() {
      output("You prestiged!");
    }

    // Initialize
    output("Welcome to the updated CLI game!");
  </script>
</body>
</html>
