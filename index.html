<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Idle CLI Game</title>
  <style>
    body {
      background-color: #1e1e1e;
      color: #d4d4d4;
      font-family: monospace;
      margin: 0;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
    #container {
      display: flex;
      flex: 1;
      overflow: hidden;
    }
    .panel {
      display: flex;
      flex-direction: column;
      overflow-y: auto;
      width: 25%;
      padding: 20px;
      background-color: #2e2e2e;
      box-sizing: border-box;
    }
    .panel h3 {
      margin-top: 0;
    }
    .panel button {
      margin: 5px 0;
      background-color: #444;
      color: white;
      border: none;
      padding: 8px;
      cursor: pointer;
      width: 100%;
    }
    .panel select {
      margin: 10px 0;
      width: 100%;
      background-color: #444;
      color: white;
    }
    #cli-container {
      width: 50%;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    #cli-output-wrapper {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      white-space: pre-wrap;
    }
    #cli {
      display: flex;
      flex-direction: column;
    }
    .cli-line {
      display: flex;
      flex-wrap: wrap;
    }
    .cli-line input {
      background: none;
      border: none;
      color: #d4d4d4;
      font-family: monospace;
      font-size: 1em;
      flex: 1;
      outline: none;
    }
    .panel-content {
      display: none;
    }
    .panel.active .panel-content {
      display: block;
    }
    .dropdown-content {
      display: none;
      padding-left: 20px;
    }
    .dropdown.active .dropdown-content {
      display: block;
    }
  </style>
</head>
<body>
  <div id="container">
    <div class="panel" id="settings-panel">
      <h3>Settings</h3>
      <div class="panel-content">
        <label for="theme-select">Theme</label>
        <select id="theme-select">
          <option value="dark">Dark</option>
          <option value="light">Light</option>
        </select>
      </div>
    </div>
    <div class="panel" id="sidebar">
      <h3>Sidebar</h3>
      <div class="panel-content">
        <div class="dropdown" id="upgrades-dropdown">
          <button onclick="toggleDropdown('upgrades-dropdown')">Upgrades</button>
          <div class="dropdown-content" id="upgrades"></div>
        </div>
        <div class="dropdown" id="prestige-dropdown">
          <button onclick="toggleDropdown('prestige-dropdown')">Prestige</button>
          <div class="dropdown-content" id="prestige">
            <button onclick="prestige()">Prestige</button>
          </div>
        </div>
      </div>
    </div>
    <div class="panel" id="cli-container">
      <h3>Command Line</h3>
      <div id="cli-output-wrapper">
        <div id="cli"></div>
      </div>
    </div>
    <div class="panel" id="game-updates-panel">
      <h3>Game Updates</h3>
      <div class="panel-content" id="game-updates"></div>
    </div>
  </div>
  <script>
    let resources = {
      axe: 0,
      saw: 0,
      pickaxe: 0,
      drill: 0
    };

    let upgrades = {
      axe: { cost: 10, level: 0 },
      saw: { cost: 5, level: 0 },
      pickaxe: { cost: 15, level: 0 },
      drill: { cost: 7, level: 0 }
    };

    let settings = {
      theme: "dark"
    };

    function updateUI() {
      document.body.style.backgroundColor = settings.theme === "dark" ? "#1e1e1e" : "#f5f5f5";
      document.body.style.color = settings.theme === "dark" ? "#d4d4d4" : "#333";
      updateResources();
      updateUpgrades();
    }

    function updateResources() {
      let output = '';
      for (const resource in resources) {
        output += `${resource.charAt(0).toUpperCase() + resource.slice(1)}: ${resources[resource]}\n`;
      }
      document.getElementById("cli").innerText = output;
    }

    function updateUpgrades() {
      let upgradesHtml = '';
      for (const key in upgrades) {
        const upgrade = upgrades[key];
        upgradesHtml += `
          <div>
            <span>${key.charAt(0).toUpperCase() + key.slice(1)} (Level: ${upgrade.level})</span><br>
            <span>Cost: ${upgrade.cost}</span><br>
            <button onclick="buyUpgrade('${key}')">Upgrade</button>
          </div><br>
        `;
      }
      document.getElementById("upgrades").innerHTML = upgradesHtml;
    }

    function buyUpgrade(upgradeType) {
      const upgrade = upgrades[upgradeType];
      if (resources[upgradeType] >= upgrade.cost) {
        resources[upgradeType] -= upgrade.cost;
        upgrade.level++;
        upgrade.cost = Math.round(upgrade.cost * 1.5); // Increasing cost exponentially
        updateUI();
        logGameUpdate(`${upgradeType.charAt(0).toUpperCase() + upgradeType.slice(1)} upgraded to level ${upgrade.level}`);
      } else {
        logGameUpdate(`Not enough resources to upgrade ${upgradeType}`);
      }
    }

    function logGameUpdate(message) {
      const gameUpdates = document.getElementById("game-updates");
      gameUpdates.innerHTML = `<div>${message}</div>` + gameUpdates.innerHTML;
    }

    function prestige() {
      // Handle prestige here (e.g., reset game with bonuses)
      logGameUpdate("Prestige activated!");
    }

    function toggleDropdown(id) {
      const dropdown = document.getElementById(id);
      dropdown.classList.toggle('active');
    }

    document.getElementById("theme-select").addEventListener("change", function () {
      settings.theme = this.value;
      updateUI();
    });

    // Initialize
    updateUI();
  </script>
</body>
</html>
